#include "StdAfx.h"
#include "ItemList.h"

/*
CItemList::CItemList(void){}

CItemList::~CItemList(void)
{
	for(int i = int(vpItems.size()) - 1;i >= 0;--i)
		if(vpItems[i]){
			delete vpItems[i];
			vpItems[i] = 0;
		}
}

BOOL CItemList::ReadFile(CFile & cf){
	UINT len = UINT(cf.GetLength() - cf.GetPosition());
	bData.resize(len);
	cf.Read(&bData[0],len);
	nItems = reinterpret_cast<WORD *>(&bData[2]);
	if(nItems){
		ASSERT(vpItems.empty() && _T("CItemList::ReadFile(CFile & cf)"));
		vpItems.resize(*nItems);
		for(int i = 0,bytPos = 4;i < *nItems;++i){
			vpItems[i] = new CD2Item(&bData[bytPos]);
			int byteSz = vpItems[i]->ReadData();
			if(byteSz == 0)
				return 0;
			bytPos += byteSz;
		}
	}
//重新设置文件指针

	return TRUE;
}

void CItemList::MakeData()
{
}

//*/